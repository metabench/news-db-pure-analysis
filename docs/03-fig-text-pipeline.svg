<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 180">
  <defs>
    <style>
      .step { rx: 8; ry: 8; stroke-width: 2; }
      .step-label { font-family: 'Segoe UI', Arial, sans-serif; font-size: 12px; fill: #1e293b; text-anchor: middle; font-weight: 600; }
      .step-detail { font-family: 'Courier New', monospace; font-size: 10px; fill: #64748b; text-anchor: middle; }
      .flow-arrow { stroke: #3b82f6; stroke-width: 2; fill: none; marker-end: url(#blue-arrow); }
      .io-label { font-family: 'Segoe UI', Arial, sans-serif; font-size: 11px; fill: #94a3b8; text-anchor: middle; font-style: italic; }
    </style>
    <marker id="blue-arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#3b82f6"/>
    </marker>
  </defs>

  <!-- Raw Text Input -->
  <rect class="step" x="10" y="50" width="100" height="70" fill="#f1f5f9" stroke="#94a3b8"/>
  <text class="step-label" x="60" y="80">Raw Text</text>
  <text class="step-detail" x="60" y="98">"Hello, World!"</text>

  <!-- tokenize -->
  <line class="flow-arrow" x1="110" y1="85" x2="135" y2="85"/>
  <rect class="step" x="135" y="50" width="110" height="70" fill="#dbeafe" stroke="#3b82f6"/>
  <text class="step-label" x="190" y="76">tokenize()</text>
  <text class="step-detail" x="190" y="94">lowercase, split</text>
  <text class="step-detail" x="190" y="106">filter length</text>

  <!-- Tokens -->
  <line class="flow-arrow" x1="245" y1="85" x2="270" y2="85"/>
  <rect class="step" x="270" y="50" width="100" height="70" fill="#f1f5f9" stroke="#94a3b8"/>
  <text class="step-label" x="320" y="80">Tokens</text>
  <text class="step-detail" x="320" y="98">['hello','world']</text>

  <!-- Branch: stopwords -->
  <line class="flow-arrow" x1="370" y1="68" x2="410" y2="45"/>
  <rect class="step" x="410" y="20" width="120" height="45" fill="#fef3c7" stroke="#f59e0b"/>
  <text class="step-label" x="470" y="40">STOPWORDS</text>
  <text class="step-detail" x="470" y="55">remove common</text>

  <!-- Branch: ngrams -->
  <line class="flow-arrow" x1="370" y1="85" x2="410" y2="85"/>
  <rect class="step" x="410" y="70" width="120" height="45" fill="#dcfce7" stroke="#22c55e"/>
  <text class="step-label" x="470" y="90">ngrams(n)</text>
  <text class="step-detail" x="470" y="105">sliding window</text>

  <!-- Branch: frequency -->
  <line class="flow-arrow" x1="370" y1="102" x2="410" y2="130"/>
  <rect class="step" x="410" y="120" width="120" height="45" fill="#f3e8ff" stroke="#a855f7"/>
  <text class="step-label" x="470" y="140">wordFrequency</text>
  <text class="step-detail" x="470" y="155">count each</text>

  <!-- Outputs -->
  <line class="flow-arrow" x1="530" y1="42" x2="565" y2="42"/>
  <text class="io-label" x="630" y="47">filtered tokens</text>
  <line class="flow-arrow" x1="530" y1="92" x2="565" y2="92"/>
  <text class="io-label" x="640" y="97">['hello world']</text>
  <line class="flow-arrow" x1="530" y1="142" x2="565" y2="142"/>
  <text class="io-label" x="640" y="147">Map{hello:1,...}</text>
</svg>
