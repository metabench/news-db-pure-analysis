<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 260">
  <defs>
    <style>
      .sa-step { rx: 8; ry: 8; stroke-width: 2; }
      .sa-num { font-family: 'Segoe UI', Arial, sans-serif; font-size: 20px; fill: white; text-anchor: middle; font-weight: 700; }
      .sa-circle { stroke-width: 2; }
      .sa-title { font-family: 'Segoe UI', Arial, sans-serif; font-size: 13px; fill: #1e293b; text-anchor: middle; font-weight: 600; }
      .sa-desc { font-family: 'Segoe UI', Arial, sans-serif; font-size: 10px; fill: #64748b; text-anchor: middle; }
      .sa-code { font-family: 'Courier New', monospace; font-size: 10px; fill: #475569; text-anchor: middle; }
      .sa-arrow { stroke: #94a3b8; stroke-width: 2; marker-end: url(#sa-tip); }
    </style>
    <marker id="sa-tip" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
      <polygon points="0 0, 7 2.5, 0 5" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- Step 1: Tokenize -->
  <circle class="sa-circle" cx="60" cy="40" r="20" fill="#3b82f6" stroke="#2563eb"/>
  <text class="sa-num" x="60" y="47">1</text>
  <text class="sa-title" x="60" y="80">Tokenize</text>
  <text class="sa-desc" x="60" y="95">Split into words</text>
  <text class="sa-code" x="60" y="112">["the","quick"]</text>

  <!-- Arrow -->
  <line class="sa-arrow" x1="95" y1="40" x2="135" y2="40"/>

  <!-- Step 2: Hash -->
  <circle class="sa-circle" cx="170" cy="40" r="20" fill="#8b5cf6" stroke="#7c3aed"/>
  <text class="sa-num" x="170" y="47">2</text>
  <text class="sa-title" x="170" y="80">FNV-1a Hash</text>
  <text class="sa-desc" x="170" y="95">64-bit hash each</text>
  <text class="sa-code" x="170" y="112">token -> bigint</text>

  <line class="sa-arrow" x1="205" y1="40" x2="245" y2="40"/>

  <!-- Step 3: Vector -->
  <circle class="sa-circle" cx="280" cy="40" r="20" fill="#06b6d4" stroke="#0891b2"/>
  <text class="sa-num" x="280" y="47">3</text>
  <text class="sa-title" x="280" y="80">Build Vector</text>
  <text class="sa-desc" x="280" y="95">64-dim: +1 or -1</text>
  <text class="sa-code" x="280" y="112">[+3,-1,+2,...]</text>

  <line class="sa-arrow" x1="315" y1="40" x2="355" y2="40"/>

  <!-- Step 4: Collapse -->
  <circle class="sa-circle" cx="390" cy="40" r="20" fill="#f59e0b" stroke="#d97706"/>
  <text class="sa-num" x="390" y="47">4</text>
  <text class="sa-title" x="390" y="80">Collapse</text>
  <text class="sa-desc" x="390" y="95">positive -> 1 bit</text>
  <text class="sa-code" x="390" y="112">1011...0100</text>

  <line class="sa-arrow" x1="425" y1="40" x2="465" y2="40"/>

  <!-- Step 5: Encode -->
  <circle class="sa-circle" cx="500" cy="40" r="20" fill="#22c55e" stroke="#16a34a"/>
  <text class="sa-num" x="500" y="47">5</text>
  <text class="sa-title" x="500" y="80">Hex Encode</text>
  <text class="sa-desc" x="500" y="95">64-bit -> 16 hex</text>
  <text class="sa-code" x="500" y="112">a3f1b2c4e5d6f7a8</text>

  <!-- Result box -->
  <line class="sa-arrow" x1="535" y1="40" x2="575" y2="40"/>
  <rect class="sa-step" x="575" y="18" width="130" height="45" fill="#dcfce7" stroke="#22c55e"/>
  <text class="sa-title" x="640" y="38">SimHash</text>
  <text class="sa-code" x="640" y="54">16-char hex string</text>

  <!-- Bottom: Comparison -->
  <rect class="sa-step" x="100" y="150" width="520" height="90" fill="#f8fafc" stroke="#e2e8f0"/>
  <text class="sa-title" x="360" y="175">Comparison: Hamming Distance</text>
  <text class="sa-code" x="360" y="198">a3f1b2c4e5d6f7a8  XOR  a3f1b2c4e5d6f7a9</text>
  <text class="sa-desc" x="360" y="218">Count differing bits: 0=exact, 1-3=near-duplicate, 4-10=similar, 11+=different</text>
</svg>
